{% extends "base.html" %}
{% block title %}Add User{% endblock %}
{% block content %}
    <h2>Add New User</h2>
    <form method="post">
        <input type="text" name="username" placeholder="Username (Email)" required><br>
        <input type="password" name="password" placeholder="Password" required><br>
        <select name="role" required>
            <option value="admin">Admin</option>
            <option value="teacher">Teacher</option>
            <option value="student">Student</option>
        </select><br>

        {# Student-specific fields, shown only if creating a student #}
        <div id="student-fields" style="display:none;">
            <input type="text" name="name" placeholder="Full Name"><br>
            <input type="text" name="department" placeholder="Department"><br>
            <input type="number" name="semester" placeholder="Semester"><br>
        </div>

        <button type="submit" class="btn">Add User</button>
    </form>
    <a href="{{ url_for('manage_users') }}">Back to Manage Users</a>

    <script>
        // Simple JavaScript to show/hide student fields based on role selection
        document.querySelector('select[name="role"]').addEventListener('change', function() {
            var studentFields = document.getElementById('student-fields');
            studentFields.style.display = (this.value === 'student') ? 'block' : 'none';
        });
    </script>
{% endblock %}
